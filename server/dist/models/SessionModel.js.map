{"version":3,"sources":["../../models/SessionModel.js"],"names":["SessionModel","getSession","username","callback","SQLstmt","query"],"mappings":";;;;;;AAAA;;AAEA,IAAMA,eAAe;;AAErBC,cAAY,oBAASC,QAAT,EAAmBC,QAAnB,EAA6B;;AAEvC,QAAMC,UAAU,yGACZ,wCADY,GAEZ,6BAFY,GAGZ,0BAHY,GAIZ,qBAJJ;;AAMA;;AAEA,WAAO,oBAAMC,KAAN,CAAYD,OAAZ,EAAqB,CAACF,QAAD,CAArB,EAAiCC,QAAjC,CAAP;AACD;;AAboB,CAArB;;kBAiBeH,Y;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SessionModel.js","sourceRoot":"./src","sourcesContent":["import { sql } from \"../mysqldb\";\r\n\r\nconst SessionModel = { \r\n \r\ngetSession: function(username, callback) {\r\n\r\n  const SQLstmt = 'select u.id, u.username, u.auth_key, true, u.contact_id, co.full_name, co.role, u.client_id, cl.name'\r\n    + ' from users u, contacts co, clients cl'\r\n    + ' where u.contact_id = co.id'\r\n    + ' and u.client_id = cl.id'\r\n    + ' and u.username = ?';\r\n\r\n  // console.log(\"query\", SQLstmt);\r\n\r\n  return sql().query(SQLstmt, [username], callback);\r\n}\r\n \r\n};\r\n\r\nexport default SessionModel;\r\n\r\n// ,\r\n// getTaskById: function(id, callback){\r\n//   return db.query(\"select * from task where Id=?\",[id],callback);\r\n// },\r\n// addTask: function(Task, callback){\r\n//   return db.query(\"Insert into task values(?,?,?)\",[Task.Id,Task.Title,Task.Status],callback);\r\n// },\r\n// deleteTask: function(id, callback){\r\n//   return db.query(\"delete from task where Id=?\",[id],callback);\r\n// },\r\n// updateTask: function(id, Task, callback){\r\n//   return db.query(\"update task set Title=?,Status=? where Id=?\",[Task.Title,Task.Status,id],callback);\r\n// }"]}