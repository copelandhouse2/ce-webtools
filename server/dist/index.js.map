{"version":3,"sources":["../index.js"],"names":["err","console","log","app","use","json","wwwPath","join","__dirname","static","port","process","env","PORT","listen"],"mappings":";;AAAA;;;;AAEA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACA;AACA;AACA;;AAEA,0CAAmB,UAASA,GAAT,EAAc;AAC/B,MAAG,CAACA,GAAJ,EAAS;AACPC,YAAQC,GAAR,CAAY,gCAAZ;AACD,GAFD,MAEO;AACLD,YAAQC,GAAR,CAAY,oCAAZ;AACD;AACF,CAND;AAlBA;;;AA0BA,oCAAe,UAASF,GAAT,EAAc;AAC3B,MAAG,CAACA,GAAJ,EAAS;AACPC,YAAQC,GAAR,CAAY,8BAAZ;AACD,GAFD,MAEO;AACLD,YAAQC,GAAR,CAAY,oCAAZ;AACD;AACF,CAND;;AAQA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;;AAEA,IAAMC,UAAU,eAAKC,IAAL,CAAUC,SAAV,EAAqB,KAArB,CAAhB;AACAL,IAAIC,GAAJ,CAAQ,GAAR,EAAa,kBAAQK,MAAR,CAAeH,OAAf,CAAb;;AAEAH,IAAIC,GAAJ;AACAD,IAAIC,GAAJ;AACAD,IAAIC,GAAJ;AACA;AACAD,IAAIC,GAAJ;AACAD,IAAIC,GAAJ;AACAD,IAAIC,GAAJ;AACAD,IAAIC,GAAJ;;AAEA,IAAMM,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAV,IAAIW,MAAJ,CAAWJ,IAAX,EAAiB,YAAM;AACrBT,UAAQC,GAAR,wBAAiCQ,IAAjC;AACD,CAFD","file":"index.js","sourceRoot":"./src","sourcesContent":["import express from \"express\";\r\n// import mongoose from \"mongoose\";\r\nimport { TEST_MODE, PROD_MODE, connect } from \"./mysqldb\";\r\nimport { TEST, PROD, tconnect } from \"./trello\";\r\nimport SessionRoutes from \"./routes/SessionRoutes\";\r\nimport StartRoutes from \"./routes/StartRoutes\";\r\nimport ClientRoutes from \"./routes/ClientRoutes\";\r\nimport CityRoutes from \"./routes/CityRoutes\";\r\nimport SubdivisionRoutes from \"./routes/SubdivisionRoutes\";\r\nimport JobNumberSeqRoutes from \"./routes/JobNumberSeqRoutes\";\r\nimport LookupRoutes from \"./routes/LookupRoutes\";\r\nimport bodyParser from \"body-parser\";\r\nimport path from \"path\";\r\n\r\n// MongoDB connection\r\n// mongoose.set(\"debug\", true);\r\n// mongoose.Promise = global.Promise;\r\n// mongoose.connect(\"mongodb://public:public@ds257858.mlab.com:57858/checkpoint2\");\r\n\r\nconnect(TEST_MODE, function(err) {\r\n  if(!err) {\r\n    console.log(\"Database is connected ... \\n\\n\");  \r\n  } else {\r\n    console.log(\"Error connecting database ... \\n\\n\");\r\n  }\r\n});\r\n\r\ntconnect(TEST, function(err) {\r\n  if(!err) {\r\n    console.log(\"Trello is connected ... \\n\\n\");  \r\n  } else {\r\n    console.log(\"Error connecting database ... \\n\\n\");\r\n  }\r\n});\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\n\r\nconst wwwPath = path.join(__dirname, \"www\");\r\napp.use(\"/\", express.static(wwwPath));\r\n\r\napp.use(SessionRoutes);\r\napp.use(StartRoutes);\r\napp.use(ClientRoutes);\r\n// app.use(ContactRoutes);\r\napp.use(CityRoutes);\r\napp.use(SubdivisionRoutes);\r\napp.use(JobNumberSeqRoutes);\r\napp.use(LookupRoutes);\r\n\r\nconst port = process.env.PORT || 3001;\r\napp.listen(port, () => {\r\n  console.log(`Listening on port:${port}`);\r\n});\r\n"]}